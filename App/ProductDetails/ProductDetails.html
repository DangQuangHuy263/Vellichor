<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velichor</title>
    <link rel="stylesheet" href="../Footer/Footer.css">
    <link rel="stylesheet" href="./ProductDetails.css">
    <link rel="stylesheet" href="../CSS/main.css">
    <link rel="stylesheet" href="../Header/Header2.css">
    <link rel="icon" href="../Assets/MediaHomePage/Vellichor logo.png" type="image/gif" sizes="16x16">
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="../Header/Header.js"></script>
</head>
<header w3-include-html="../Header/Header2.html"></header>
<body>
    <!-- <div class="content">
        <div class="text">
            Nhập code "WELCOME" để được GIẢM 20% tổng hóa đơn đến hết ngày 28/12 + FREESHIP cho đơn hàng có giá trị trên 400.000VNĐ
        </div>
    </div> -->
    <!-- create navigation bar with icon -->
    <!-- <div class="navi__icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon__navigation">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon__navigation">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon__navigation">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon__navigation">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
        </svg>  
    </div> -->
    <!-- login navigation bar Begin -->
    <!-- <div class="navigation">
        <div class="logo">
            <img src="../Assets/MediaHomePage/Vellichor logo.png" alt="Loading..." class="logo__img">
        </div>
        <div class="menubar">
            <div><a href="#">ABOUT US</a></div>
            <div class="dropdown"><a href="#">SHOPPING
                <div class="dropdown-content">
                    <a href="#">BÁN THEO CHỦ ĐỀ</a>
                    <a href="#">SẢN PHẨM BÁN CHẠY</a>
                </div>
            </a></div>
            <div><a href="#">WORK SHOP</a></div>
            <div><a href="#">LIFE STYLE</a></div>
            <div><a href="#">REWARDS</a></div>
            <div><a href="#">REFILL & RECYCLE</a></div>
        </div>
    </div> -->
    <!-- login navigation bar End -->
    <!-- Body begin -->
    <div class="products__details" id="details_product">
        <div class="products" >
            <img src="../Assets/ProductImg/MIDNIGHT IN PARIS.png" alt="" class="img">
            <div class="save__item">
                <svg xmlns="http://www.w3.org/2000/svg" id = "heart" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                </svg>
                <p id ="save" class="p_content">Lưu sản phẩm</p>
            </div>
        </div>
        <div class="products__content">
            <div class="content__top">
                <div class="content__text">MIDNIGHT IN PARIS</div>
                <div class="content__price">
                    <p class="price"><span>390.000</span><sup>đ</sup></p>
                    <p class="price__sale"><span>300000</span><sup>đ</sup></p>
                </div>
            </div>
            <div class="content__bottom">
                <p>Midnight in Paris, mang tới hương sắc: ngọt của hoa nhài, mùi ấm của gỗ và chút ngọt hương vani của hổ phách, lấp lánh trên nền gỗ đàn hương âm trầm phảng phất, có chút gì đó hoài niệm và lưu luyến.</p>
                <div>
                    <p>+ Dung tích: 4.25 oz</p>
                    <p>+ Thời gian đốt: 25 giờ đốt nến</p>
                </div>
            </div>
        </div>
    </div>
    <div class="select__button">
        <!-- Thêm số lượng trong giỏ hàng  -->
        <div class="region">
            <button class="minus-btn" onclick="handleMinus()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 img__icon">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15" />
                </svg>
            </button>
            <input type="text" name="amount" id="amount" value="1" >
            <button class="plus-btn" onclick="handlePlus()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 img__icon">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                </svg>              
            </button>
        </div>
        <div class="order_to_cart" id="btn-open">
            <svg width="50" height="50" viewBox="0 0 66 59"  fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.0293 23L1.25832 21.2355C0.669908 21.826 0.414582 22.671 0.577503 23.4886L3.0293 23ZM62.8113 23L65.2631 23.4886C65.4261 22.671 65.1707 21.826 64.5823 21.2355L62.8113 23ZM56.1689 56.3333V58.8333C57.3613 58.8333 58.3877 57.9913 58.6207 56.8219L56.1689 56.3333ZM9.67175 56.3333L7.21995 56.8219C7.45298 57.9913 8.47939 58.8333 9.67175 58.8333V56.3333ZM24.7276 4.76455C25.7022 3.78646 25.6993 2.20355 24.7212 1.22902C23.7431 0.254487 22.1602 0.257367 21.1857 1.23545L24.7276 4.76455ZM44.655 1.23545C43.6804 0.257367 42.0975 0.254487 41.1194 1.22902C40.1414 2.20355 40.1385 3.78646 41.113 4.76455L44.655 1.23545ZM3.0293 25.5H62.8113V20.5H3.0293V25.5ZM60.3595 22.5114L53.7171 55.8448L58.6207 56.8219L65.2631 23.4886L60.3595 22.5114ZM56.1689 53.8333H9.67175V58.8333H56.1689V53.8333ZM12.1235 55.8448L5.48109 22.5114L0.577503 23.4886L7.21995 56.8219L12.1235 55.8448ZM4.80028 24.7645L24.7276 4.76455L21.1857 1.23545L1.25832 21.2355L4.80028 24.7645ZM64.5823 21.2355L44.655 1.23545L41.113 4.76455L61.0404 24.7645L64.5823 21.2355Z" fill="#753422"/>
            </svg>
            <p>Thêm vào giỏ hàng</p>
        </div>
        <div class="order__now" onclick="buyNow()">
            <svg xmlns="http://www.w3.org/2000/svg" class="svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
            </svg>
            <p>MUA NGAY</p>
        </div>
    </div>
    <!-- Body End -->
    <div class="center">
        <p>RECOMMEND BEST SELLER</p>
    </div>
    <!-- Recommend Products begin -->
    <div class="product__line">
        <a href="./ProductDetails.html?productCode=1">
            <div class="product__item">
                <img src="../Assets/ProductImg/CHILDHOOD MEMORY.png" alt="" class="product__img">
                <p class="product__name">CHILDHOOD MEMORY</p>
                <span class="price__item">300.000<sup>đ</sup></span>
            </div>
        </a>
        <a href="./ProductDetails.html?productCode=2">
            <div class="product__item">
                <img src="../Assets/ProductImg/CHẠM ver.png" href="./ProductDetails.html?itemId=2" alt="" class="product__img">
                <p class="product__name">CHẠM ver</p>
                <span class="price__item">380.000<sup>đ</sup></span>
            </div>
        </a>
        <a href="./ProductDetails.html?productCode=3">
            <div class="product__item">
                <img src="../Assets/ProductImg/DỊU ÊM ver.png" href="./ProductDetails.html?itemId=3" alt="" class="product__img">
                <p class="product__name">DỊU ÊM ver</p>
                <span class="price__item">360.000<sup>đ</sup></span>
            </div>
        </a>
        <a href="./ProductDetails.html?productCode=4">
            <div class="product__item">
                <img src="../Assets/ProductImg/HAZELNUT COFFEE.png" href="./ProductDetails.html?itemId=3" alt="" class="product__img">
                <p class="product__name">HAZELNUT COFFEE</p>
                <span class="price__item">300.000<sup>đ</sup></span>
            </div>
        </a>
    </div>
    <!-- Recommend Products end -->
    <!-- Modal -->
    <!-- <div id="wrapper">
        <h1>Tạo modal</h1>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium, cumque voluptatem, dolores est aperiam alias temporibus molestias eius, quam qui mollitia maiores et numquam? Quia, quam! Quia earum itaque eaque.</p>
        <button id="btn-open">Click Here Open Modal</button>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Distinctio saepe, inventore magni ea consequuntur asperiores dicta voluptatem, natus veritatis eius animi laudantium. Modi consequuntur, laboriosam inventore vitae quia eligendi iste?</p> -->
        <!-- Modal -->
        <div id="modal-container" >
            <div id="modal-demo" class="modal">
                <div class="modal-header">
                    <h3>Vellichor thông báo</h3>
                    <button id="btn-close"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="modal-body">
                    <p>Sản phẩm của bạn đã được thêm giỏ hàng thành công!</p>
                </div>
            </div>
        </div>
        <!-- End Modal -->
    </div>
        <!-- End Modal -->
    
</body>
<footer w3-include-html="../Footer/Footer.html"></footer>
<script>
    w3.includeHTML();
</script>


<script language="javascript" type="text/javascript"> 

    window.onload = async function() { // Wait for the page to load all DOM elements
    
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString)
    console.log(queryString)
    const productCode = urlParams.get('productCode')
    // laod json
    const productData = await fetch('../Assets/Data/Product.json')
    .then((response) => response.json())
    
    const currProduct = productData.filter(x => {
        if(x.productCode == productCode) return x
    })[0]
   
    console.log(currProduct)

    //  custom 

    if(currProduct) {
          $('#details_product .content__text').text(currProduct.productName)
          $('#details_product .price span').text(currProduct.productSale)
          $('#details_product .price__sale span').text(currProduct.productPrice)
          $('#details_product .content__bottom > p').text(currProduct.productContent)
          $("#details_product img").attr("src", `../Assets/ProductImg/${currProduct.productImg}`);
    }
    
    }

    // Chức năng count số lượng
    let amountElement = document.getElementById('amount');
    let amount = amountElement.value;
    let render = (amount) =>{
        amountElement.value= amount
    }
    // Khi người dùng click vào + 
    let handlePlus =() =>{
        amount++
        render(amount);
    }
    // Khi người dùng click vào -
    let handleMinus =() =>{
        if(amount >1)
            amount--;
        render(amount);
    }

// Xử lý khi người dùng nhập chữ
amountElement.addEventListener('input', () =>{
    amount = amountElement.value;
    amount = parseInt(amount);
    amount = (isNaN(amount)|| amount==0)?1:amount;
    render(amount);
})

// Add cart
        const btn_open = document.getElementById('btn-open');
        const btn_close = document.getElementById('btn-close');
        const modal_container = document.getElementById('modal-container');
        const modal_demo = document.getElementById('modal-demo');
        btn_open.addEventListener('click',()=>{
            modal_container.classList.add('show')
        })
        btn_close.addEventListener('click',()=>{
            modal_container.classList.remove('show')
        })
        modal_container.addEventListener('click', (e)=>{
            if(!modal_demo.contains(e.target)){
                btn_close.click();
            }
        })


// Buy Now
function buyNow(){
    window.location.href = "../InforBuyNow/InforBuyNow.html";
}
//save 
const save = document.getElementById('save');
const heart = document.getElementById('heart')

save.addEventListener('click', function onClick() {
  save.style.color = '#FF9900';
  save.style.fontSize = 24;
  heart.style.color = '#FF9900'


});
  heart.addEventListener('click', function onClick() {
  save.style.color = '#FF9900';
  save.style.fontSize = 24;
  heart.style.color = '#FF9900'


});
//
function myAccount() {
                // window.open("../Account/Account.html");
                window.location.href = "../Account/Account.html";
            }
            function myCart() {
                window.location.href = "../Account/Account.html";
            }
            function homePage() {
                window.location.href = "../HomePage/HomePage.html";
            }
            function mySearch() {
                window.location.href = "../Shop/Shop.html";
}
    </script>


</html>